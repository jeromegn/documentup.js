/* ========================================================================== *
 * Document module
 * -------------------------------------------------------------------------- */

/* ===================================== *
 * Common
 * ------------------------------------- */

html {
  box-sizing: border-box;
}

*,
*:after,
*:before {
  margin: 0;
  padding: 0;
  outline: 0;
  box-sizing: inherit;
}

/* ===================================== *
 * Document
 * ------------------------------------- */

html,
body {
  height: 100%;
  min-height: 100vh;
}

body {
  font-weight: 400;
  font-size: $base-size;
}

/* ===================================== *
 * Header
 * ------------------------------------- */

// Main site header bar
header[role=banner] {
  display: flex;
  align-items: center;
  height: $header-height;
  z-index: 10;
  font-size: 13px;

  // Header link styles
  a {
    color: inherit;
    flex-shrink: 0;
    white-space: nowrap;
    text-decoration: none;
  }

  // Smaller screens
  @media (max-width: $breakpoint) {

    // Larger size on small screens
    a {
      font-size: 16px;
    }

    &:after {
      content: '';
      position: fixed;
      left: 0;
      top: -9999px;
      width: 100%;
      height: 100%;
      background: transparent;
      transition:
        .5s background,
         0s .5s top;
    }
  }
}

/* ===================================== *
 * Navigation
 * ------------------------------------- */

// Mobile menu button
.mobile-menu-button {

  // Hidden on larger screens
  @media (min-width: $breakpoint + 1px) {
    @include hidden;
  }

  // Shown on smaller screens
  @media (max-width: $breakpoint) {
    z-index: 4;
    width: 36px;
    height: 36px;
    margin-left: auto;
    padding: 12px 10px;
    border-radius: 50%;
    transition: .5s transform;
    box-shadow: 0 0 0 1px $white-1;
    background: transparent linear-gradient(to bottom, $white-1, $white-1) 50% 50% / 16px 2px no-repeat;

    &:after,
    &:before {
      content: '';
      display: block;
      width: 16px;
      height: 2px;
      background: $white-1;
      transition:
        .5s opacity,
        .5s transform;
    }

    &:after {
      margin: 8px 0;
    }

    // Fancy animation when menu open
    .menu-open & {
      transform: rotate(-45deg);

      &:after {
        transform: translateY(-5px) rotate(-90deg);
      }

      &:before {
        transform: translateY(5px);
        opacity: 0;
      }
    }
  }
}

// Main navigation
.app-navigation {

  // Smaller screens
  @media (max-width: $breakpoint) {
    position: fixed;
    top: 50%;
    left: 50%;
    opacity: 0;
    z-index: 12;
    align-items: center;
    flex-direction: column;
    justify-content: center;
    background: transparent;
    transform: translate(-50%, -9999px);
    transition:
      .5s opacity,
      .5s background,
       0s .5s transform;

    [data-background] {
      display: none;
    }

    dl {
      width: 100%;
      padding: 0;
    }

    dt {
      @include hidden;
    }

    .icon {
      width: 20px;
      height: 20px;
      margin-right: 6px;
    }

    .link-out {
      @include hidden;
    }

    a {
      display: flex;
      align-items: center;
      width: 100%;
      padding: 4px;
    }
  }

  // Larger screens
  @media (min-width: $breakpoint + 1px) {
    margin-left: auto;
    display: flex;
    align-items: baseline;
    text-align: center;

    > a,
    > dl {
      padding: 0 12px;
    }
  }
}

// Menu open
.menu-open {

  // Smaller screens
  @media (max-width: $breakpoint) {

    // Prevent body from scrolling
    overflow: hidden;

    // Main header
    header[role='banner'] {
      &:after {
        top: 0;
        background: rgba($black-3, .95);
        transition:
          .5s background,
           0s 0s top;
      }
    }

    // Main navigation
    .app-navigation {
      opacity: 1;
      transform: translate(-50%, -50%);
      transition:
        .5s opacity,
        .5s background;
    }
  }
}

/* ===================================== *
 * Main
 * ------------------------------------- */

// // Main content
// main {
//   flex: 1;
// }

/* ===================================== *
 * Footer
 * ------------------------------------- */

// Main site footer
footer[role='contentinfo'] {
  font-size: 12px;
  text-align: center;
  font-weight: 400;
  padding-bottom: vr(1);
}